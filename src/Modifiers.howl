âŠ System.Linq; âŠ System.Collections.Generic;

âŠ“ Active.Howl{ â€’Ì¥ â—‹ Modifiers{

    // Modified Resharper default
    âˆ˜ ã„¹[] csTemplate = âŒ¢ []{ "override", /**/ "public", "protected",
        "internal", "private", /**/ "static", /**/ "new",
        /**/ "abstract", "virtual", "sealed", /**/ "readonly",
        "extern", "unsafe", "volatile", "async" };

    // This "/" here probably causes a recursive
    // invocation which caused a (undesired) guard in
    // IsModifier. Kind of overkill really
    âˆ˜ ã„¹[] howlTemplate = csTemplate / Map.@default;

    â€’Ì¥ ã„¹[] NitpickSegment (â‹¯ ã„¹[] tokens)  {
        ğ•ƒ<ã„¹> ã„¸ = âŒ¢ ğ•ƒ<ã„¹>(), Î¼ = âŒ¢ ğ•ƒ<ã„¹>();
        ã„¹ _ = âˆ…;
        âˆ€ (âˆ™ x âˆˆ tokens){
        //ğŸ¥($"Check token {x}");
        â¤­ (x){
        //â¥° âˆ… : Â¦
        â¥° ã„¹ z â¤ IsModifier(x):
            Î¼.Add(x);  _ = âˆ…; Â¦
        â¥° ã„¹ z â¤ x.IsWhiteSpace():
            â¤´ (Î¼â â˜° 0) ã„¸.Add(x);
            â¤µ _ = x; Â¦
        ï½:
            â¤´ (Î¼â > 0) {
                ã„¸.Add(Nitpick(Î¼à§´));  Î¼.Clear();  â¤´ (_ â‰  âˆ…) ã„¸.Add(_);
            }
            ã„¸.Add(x); _ = âˆ…; Â¦
        } // end switch
        } // end foreach
        â® ã„¸à§´;
    }

    âˆ˜ ã…‡ IsModifier(ã„¹ x) {
        â¤´ (howlTemplate â˜° null) â¤¬
        â¤µ âˆ€ (âˆ™ k âˆˆ howlTemplate) â¤´ (k â˜° x) ã†‘ â¤¬
    }

    â€’Ì¥ ã„¹   Nitpick(â‹¯ ã„¹[] Î±) â†’ ReorderHl(Î±).Join().Replace("â€’âˆ˜", "â€’Ì¥");
    â€’Ì¥ ã„¹[] ReorderCs (â‹¯ ã„¹[] Î±) â†’ Reorder(csTemplate, Î±);
    â€’Ì¥ ã„¹[] ReorderHl (â‹¯ ã„¹[] Î±) â†’ Reorder(howlTemplate, Î±);
    â€’Ì¥ ã„¹[] Reorder(ã„¹[] Ï„, â‹¯ ã„¹[] Î±) â†’ (â€– x âˆˆ Ï„ Â¿ Î±.âˆ‹(x) â–¸ x)à§´;

}}
