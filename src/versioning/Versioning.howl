âŠ Ex = System.Exception; âŠ System.Linq; âŠ System.Collections.Generic;

âŠ“ Active.Howl{
â€’ â—‹ Versioning{

    â€’ ã…‡ Increment(ã„¹ path, Subversion Î´, â‹¯ ã„¹[] files){
        âˆ™ version = Get(path) + Î´;
        Apply(version, $"{path}/package.json");
        âˆ€ (âˆ™ Ï† âˆˆ files) Apply(version, Ï†); ã†‘
    }

    â€’ Version Get(ã„¹ path){
        âˆ€ (âˆ™ Î» âˆˆ $"{path}/package.json".ReadLines())
            â¤´ (Î».âˆ‹("version"))
                â® Î».Split(":")[1].Replace(@"""", "")
                                  .Replace(",", "").Trim();
        (â•¯Â°â–¡Â°)â•¯
               âŒ¢ Ex("Version not in package.json");
    }

    â€’ â”ˆ Apply(Version x, ã„¹ Ï†){
        ã„¹ Îº = âˆ…; âˆ™ Ï = âŒ¢ ğ•„ <ã„¹, (ã„¹ h, ã„¹ p)>{
          [".json"] = ( @"""version""", @"  ""version"" : ""##"","),
          [".ps1" ] = ( "$version =", @"$version = ""##"""),
          [".howl"] = ( "á´¸ ã„¹ version", @"    á´¸ ã„¹ version = ""##"";"),
          [""     ] = ( "version=", @"version=##")
        }[Ï†.Extension()];
        Ï†.Write((â€– Î» âˆˆ Ï†.ReadLines()
                 â–¸ Î».âˆ‹(Ï.h) ? Ï.p.Replace(Îº = "##", x)
                            : Î»)à§´.Join('\n'));
        â¤´ (Îº â˜° âˆ…) (â•¯Â°â–¡Â°)â•¯
                           âŒ¢ Ex(@"Hint [{hint}] not in {file}");
    }

}}
