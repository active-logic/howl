âŠ System;    âŠ System.Collections.Generic;
âŠ System.IO; âŠ System.Linq;
âŠ System.Text; âŠ System.Text.RegularExpressions;

âŠ“ Active.Howl{
â€’Ì¥ â—‹ StringExt{

    âˆ˜ Regex Az09 = âŒ¢ Regex("^[a-zA-Z0-9]*$");

    â€’Ì¥ ã„¹ Comment(â¦¿ ã„¹ x) â†’ $"// {x}\n";

    â€’Ì¥ ã„¹ Ftu(â¦¿ ã„¹ x) â†’ x.First()ğŸ .ToUpper() + x.Substring(1);

    â€’Ì¥ ã…‡ IsAlphaNumeric(â¦¿ ã„¹ x) â†’ Az09.IsMatch(x);

    â€’Ì¥ ã…‡ IsWhiteSpace(â¦¿ ã„¹ x) â†’ x â‰  âˆ… âˆ§ ã„¹.IsNullOrWhiteSpace(x);

    â€’Ì¥ á† LineCount(â¦¿ ã„¹ x){
        á† n = 0;
        âŸ³(á† i = 0; i < xâ™; i++) â¤´(x[i] â˜° '\n') n++;
        â® n;
    }

    â€’Ì¥ ã„¹ Insert(â¦¿ ã„¹ dst, ã„¹ src, ã„¹ lm, ã„¹ rm){
        âˆ™ l = dst.IndexOf(lm);
        âˆ™ r = dst.IndexOf(rm);
        â¤´(l < 0){ ğŸ”¸($"{lm} marker needed"); â® âˆ…;  }
        â¤´(r < 0){ ğŸ”¸($"{rm} marker needed"); â® âˆ…; }
        l = dst.IndexOf('\n', l);
        r = dst.LastIndexOf('\n', r) ;
        â¤´(l < 0){ ğŸ”¸($"No new line after marker"); â® âˆ…; }
        â¤´(r < 0){ ğŸ”¸($"No new line before marker"); â® âˆ…; }
        âˆ™ header = dst.Substring(0, l + 1);
        âˆ™ footer = dst.Substring(r);
        â® header + src + footer;
    }

    â€’Ì¥ ã„¹ Left(â¦¿ ã„¹ x, á†© c, ã…‡ trim = âœ“){
        âˆ™ z = x.IndexOf(c);
        â® x.Substring(0, z).Trim();
    }

    â€’Ì¥ ã„¹[] Lines(â¦¿ ã„¹ self){
        â¤´(self â˜° âˆ…) â® âˆ…;
        â¤´(selfâ™ â˜° 0) â® âŒ¢ ã„¹[]{};
        âˆ™ ã„¸ = âŒ¢ ğ•ƒ<ã„¹>();
        âˆ™ x = âŒ¢ StringBuilder();
        âŸ³(á† i = 0; i < selfâ™; i++){
            âˆ™ c = self[i];
            x.Â±(c);
            â¤´(c â˜° '\n'){
                ã„¸.Add(xğŸ );
                x.Clear();
            }
        }
        â¤´(xâ™ > 0) ã„¸.Add(xğŸ );
        â®  ã„¸à§´;
    }

    â€’Ì¥ ã…‡ Matches(â¦¿ ã„¹ x, ã„¹ y, á† at){
        âˆ™ w = at + yâ™;
        â¤´ (w > xâ™) â¤¬
        âˆ™ z = x.Substring(at, yâ™);
        â® z â˜° y;
    }

    â€’Ì¥ ã„¹ Reverse(â¦¿ ã„¹ x){
        â¤´(xâ™ â‰¤ 1) â® x;
        char[] ã„¸ = x.ToCharArray();
        Array.Reverse(ã„¸);
        â® âŒ¢ ã„¹(ã„¸);
    }

    â€’Ì¥ ã„¹ Right(â¦¿ ã„¹ x, á†© c, ã…‡ trim = âœ“){
        âˆ™ z = x.IndexOf(c);
        â® x.Substring(z + 1).Trim();
    }

    â€’Ì¥ ã„¹[] Tokenize(â¦¿ ã„¹ self){
        ğ•ƒ<ã„¹> ã„¸ = âŒ¢ ğ•ƒ<ã„¹>();
        âˆ™ buffer = âŒ¢ StringBuilder();
        âˆ€(char c âˆˆ self){
            â¤´(Char.IsLetterOrDigit(c)
               âˆ¨ c â˜° '_'
               âˆ¨ (bufferâ™ â˜° 0 âˆ§ c â˜° '@'))
            {
                buffer.Â±(c);
            }â¤µ{
                â¤´(bufferâ™ > 0){
                    ã„¸.Add(bufferğŸ );
                    buffer.Clear();
                }
                ã„¸.Add($"{c}");
            }
        }
        â¤´(bufferâ™>0) ã„¸.Add(bufferğŸ );
        â® ã„¸à§´;
    }

}}
